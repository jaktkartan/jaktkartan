<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uppt채ckfliken, inneh책ll med rull-lista</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Select2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.2/dist/css/select2.min.css" rel="stylesheet" />
    
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .styled-upptack {
            width: 300px; /* Adjust width as needed */
        }
        .select2-selection__rendered {
            display: flex;
            align-items: center;
        }
        .select2-selection__rendered img {
            margin-right: 10px;
            width: 20px;
            height: 20px;
            vertical-align: middle; /* Ensures proper vertical alignment of images */
        }
    </style>
    
    <!-- Select2 JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.2/dist/js/select2.min.js"></script>
    <script src="bottom_panel/Upptack/Upptack_geojsonHandler.js"></script>
</head>
<body>
    <div id="tab1" class="tab-pane">
        <select id="mySelect" class="styled-upptack">
            <option value="Visa_allt" data-image="bottom_panel/Upptack/bilder/Visa_allt_ikon.png">Visa allt</option>
            <option value="M채ssor" data-image="bottom_panel/Upptack/bilder/massa_ikon.png">M채ssor</option>
            <option value="Jaktkort" data-image="bottom_panel/Upptack/bilder/jaktkort_ikon2.png">Jaktkort</option>
            <option value="Jaktskyttebanor" data-image="bottom_panel/Upptack/bilder/jaktskyttebanor_ikon.png">Jaktskyttebanor</option>
            <option value="Rensa_allt" data-image="bottom_panel/Upptack/bilder/rensa_allt_ikon.png">Rensa allt</option>
        </select>
    </div>

    <script>
        $(document).ready(function() {
            // Initialize Select2
            $('#mySelect').select2({
                templateResult: formatOption,
                templateSelection: formatOption
            });

            function formatOption(option) {
                if (!option.id) {
                    return option.text;
                }
                var $option = $(
                    '<span><img src="' + $(option.element).data('image') + '" class="img-flag" /> ' + option.text + '</span>'
                );
                return $option;
            }

            // Handle change event to call the toggleLayer function
            $('#mySelect').on('change', function() {
                var selectedValue = $(this).val();
                if (typeof Upptack_geojsonHandler !== 'undefined' && Upptack_geojsonHandler.toggleLayer) {
                    Upptack_geojsonHandler.toggleLayer(selectedValue);
                } else {
                    console.error('Upptack_geojsonHandler or toggleLayer is not defined');
                }
            });
        });
    </script>
</body>
</html>
